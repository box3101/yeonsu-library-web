---
export interface Props {
  id?: string;
  name?: string;
  checked?: boolean;
  disabled?: boolean;
  size?: 'small' | 'medium' | 'large';
  variant?: 'default' | 'success' | 'warning' | 'error';
  label?: string;
  labelPosition?: 'left' | 'right';
  class?: string;
}

const {
  id,
  name,
  checked = false,
  disabled = false,
  size = 'medium',
  variant = 'default',
  label,
  labelPosition = 'right',
  class: className = '',
} = Astro.props;

const switchId = id || `switch-${Math.random().toString(36).substr(2, 9)}`;

const switchClasses = ['ui-switch', `ui-switch--${size}`, `ui-switch--${variant}`, disabled ? 'ui-switch--disabled' : '', className]
  .filter(Boolean)
  .join(' ');
---

<div class="ui-switch-container">
  {
    label && labelPosition === 'left' && (
      <label for={switchId} class="ui-switch__label ui-switch__label--left">
        {label}
      </label>
    )
  }

  <div class={switchClasses}>
    <input type="checkbox" id={switchId} name={name} checked={checked} disabled={disabled} class="ui-switch__input" role="switch" />
    <div class="ui-switch__track">
      <div class="ui-switch__thumb"></div>
    </div>
  </div>

  {
    label && labelPosition === 'right' && (
      <label for={switchId} class="ui-switch__label ui-switch__label--right">
        {label}
      </label>
    )
  }
</div>
