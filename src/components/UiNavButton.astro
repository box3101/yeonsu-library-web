---
export interface Props {
  /**
   * 버튼 방향
   */
  direction: 'prev' | 'next';
  /**
   * 버튼 크기 (rem 단위)
   */
  size?: number;
  /**
   * 비활성화 여부
   */
  disabled?: boolean;
  /**
   * 클릭 핸들러 함수명
   */
  onClick?: string;
  /**
   * 추가 CSS 클래스
   */
  class?: string;
  /**
   * 접근성을 위한 aria-label
   */
  ariaLabel?: string;
}

const {
  direction,
  size = 40,
  disabled = false,
  onClick,
  class: className = '',
  ariaLabel,
  ...rest
} = Astro.props;

const defaultAriaLabel = direction === 'prev' ? '이전' : '다음';
const buttonAriaLabel = ariaLabel || defaultAriaLabel;
---

<button
  type="button"
  class={`ui-nav-button ui-nav-button--${direction} ${className}`}
  style={`width: ${size / 16}rem; height: ${size / 16}rem;`}
  disabled={disabled}
  aria-label={buttonAriaLabel}
  onclick={onClick}
  {...rest}
>
  <svg viewBox="0 0 24 24" fill="none" class="ui-nav-button__icon">
    {direction === 'prev' ? (
      <path 
        d="M15 18L9 12L15 6" 
        stroke="currentColor" 
        stroke-width="2" 
        stroke-linecap="round" 
        stroke-linejoin="round"
      />
    ) : (
      <path 
        d="M9 18L15 12L9 6" 
        stroke="currentColor" 
        stroke-width="2" 
        stroke-linecap="round" 
        stroke-linejoin="round"
      />
    )}
  </svg>
</button>

<style lang="scss">
@use '../styles/abstracts' as *;
@use '../styles/variables/colors' as *;

.ui-nav-button {
  @include flex-center;
  border: 1px solid #c3c9c9;
  border-radius: to-rem(12);
  background: $white;
  cursor: pointer;
  transition: all 0.2s ease;
  padding: 0;

  &:hover:not(:disabled) {
    background: #f3f3f3;
    border-color: #a0a0a0;
  }

  &:focus {
    outline: to-rem(2) solid $primary-color;
    outline-offset: to-rem(2);
  }

  &:active:not(:disabled) {
    transform: scale(0.98);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background: #f5f5f5;
    border-color: #ddd;
  }

  &__icon {
    width: to-rem(24);
    height: to-rem(24);
    color: $gray-600;
    transition: color 0.2s ease;
  }

  &:hover:not(:disabled) &__icon {
    color: $text-color;
  }

  &:disabled &__icon {
    color: #999;
  }

  // 특정 방향별 추가 스타일링이 필요한 경우
  &--prev {
    // 이전 버튼 전용 스타일
  }

  &--next {
    // 다음 버튼 전용 스타일
  }
}
</style>