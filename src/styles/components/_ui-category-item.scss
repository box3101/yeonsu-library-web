@use '../globals' as *;

// 카테고리 리스트 컨테이너
.category-list {
	@include flex(column, flex-start, stretch);
	gap: to-rem(16);
	margin-top: to-rem(32);

	&__item {
		width: 100%;
	}

	@include mobile {
		gap: to-rem(12);
		margin-top: to-rem(24);
	}
}

.ui-category-item {
	background: $white;
	border: 1px solid $gray-200;
	border-radius: to-rem(6);
	overflow: hidden;
	transition: all 0.2s ease;

	&:hover {
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
	}

	// 확장된 상태 (JavaScript로 제어)
	&.is-active {
		.ui-category-item__icon {
			transform: rotate(180deg);
		}

		.ui-category-item__header {
			border-bottom-color: $gray-200;
		}

		.ui-category-item__content {
			display: block;
		}
	}

	// 헤더 영역
	&__header {
		padding: to-rem(24) to-rem(32);
		border-bottom: 1px solid transparent;
		transition: border-color 0.2s ease;

		.is-expanded & {
			border-bottom-color: $gray-200;
		}
	}

	&__container {
		@include flex(row, space-between, center);
		gap: to-rem(16);
		width: 100%;
	}

	&__title-badge {
		@include flex(row, flex-start, center);
		flex: none;
		gap: to-rem(4);
		cursor: pointer;
		transition: all 0.2s ease;

		&:hover {
			opacity: 0.8;
		}
	}

	&__title {
		font-weight: 700;
		font-size: to-rem(19);
		line-height: 1.5;
		color: $secondary-color;
		margin: 0;
	}

	&__badge {
		@include flex(row, center, center);
		background: $primary-color;
		border-radius: to-rem(1000);
		padding: 0 to-rem(8);
		min-width: to-rem(26);
		height: to-rem(20);
	}

	&__count {
		font-weight: 400;
		font-size: to-rem(15);
		line-height: 1.5;
		color: $white;
		text-align: center;
	}

	&__toggle {
		@include button-reset;
		@include flex(column, center, center);
		width: to-rem(44);
		height: to-rem(44);
		color: $secondary-color;
		cursor: pointer;
		transition: all 0.2s ease;
		transform: rotate(0deg);
		border-radius: to-rem(4);

		&:hover {
			background: rgba($primary-color, 0.1);
		}

		&:focus {
			outline: 2px solid $primary-color;
			outline-offset: 2px;
		}

		&.is-active {
			transform: rotate(180deg);
		}

		img {
			width: to-rem(24);
			height: to-rem(24);
		}
	}

	&__icon {
		width: to-rem(24);
		height: to-rem(24);
		transition: transform 0.2s ease;
		transform: rotate(-180deg);
	}

	// 콘텐츠 영역
	&__content {
		display: none;
		padding: to-rem(16) to-rem(32) to-rem(24);
		border-top: 1px solid $gray-200;
		transition: all 0.2s ease;

		// JavaScript로 is-active 클래스가 추가되면 표시
		&.is-active {
			display: block;
		}

		&[aria-hidden='false'] {
			display: none;
		}

		&[aria-hidden='true'] {
			display: block;
		}
	}

	&__tags {
		@include flex(row, flex-start, flex-start);
		flex-wrap: wrap;
		gap: to-rem(8);
	}

	&__tag {
		@include button-reset;
		@include flex(row, center, center);
		gap: to-rem(2);
		padding: to-rem(8) to-rem(10);
		height: to-rem(32);
		background: $white;
		border: 1px solid $gray-300;
		border-radius: to-rem(1000);
		font-weight: 400;
		font-size: to-rem(15);
		line-height: 1.5;
		color: $text-color;
		cursor: pointer;
		transition: all 0.2s ease;

		&:hover {
			background: $gray-50;
			border-color: $primary-color;
			color: $primary-color;
		}

		&:focus {
			outline: 2px solid $primary-color;
			outline-offset: 2px;
		}

		&:active {
			background: $primary-color;
			border-color: $primary-color;
			color: $white;
		}
	}

	// 모바일 반응형
	@include mobile {
		&__header {
			padding: to-rem(20) to-rem(24);
		}

		&__container {
			gap: to-rem(12);
		}

		&__title {
			font-size: to-rem(17);
		}

		&__badge {
			padding: 0 to-rem(6);
			min-width: to-rem(22);
			height: to-rem(18);
		}

		&__count {
			font-size: to-rem(13);
		}

		&__content {
			padding: to-rem(12) to-rem(24) to-rem(20);
		}

		&__tag {
			padding: to-rem(6) to-rem(8);
			height: to-rem(28);
			font-size: to-rem(13);
		}
	}
}

.category-list-wrp {
	padding: to-rem(24) to-rem(32);
	background: #ecf2f9;
	border-radius: to-rem(6);

	@include mobile {
		margin-top: 24px;
		padding: to-rem(20) to-rem(24);
	}
}
