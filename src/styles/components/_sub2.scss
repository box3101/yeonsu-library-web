@use '../abstracts' as *;
@use '../variables/colors' as *;
@use 'sass:color';
@use 'sass:math';
.color-red {
	color: #d7424e;
}

.integrated-member-notice {
	margin-bottom: to-rem(20);
	font-size: to-rem(14);
	color: #333;
	line-height: 1.5;
}

.library-status {
	.pop-list-item {
		.pop-list-item-title,
		.pop-list-item-content {
			flex: 1;
			background: #ecf2f9;
			border-bottom: 1px solid var(--color-primary-pr01, #d8e4f3);
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 600;
			text-align: center;
			color: #000;
		}
		&.library-status-cnt {
			.pop-list-item-title,
			.pop-list-item-content {
				flex: 1;
				background: #fff;
				display: flex;
				align-items: center;
				justify-content: center;
				font-weight: 400;
				text-align: center;
				color: #000;
			}
		}
	}
}

.attendance-check-modal {
	.attendance-description {
		margin-bottom: to-rem(20);

		p {
			font-size: to-rem(14);
			color: #333;
			line-height: 1.5;
			margin: 0;
		}
	}

	.attendance-example {
		margin-bottom: to-rem(20);
		padding: to-rem(16);
		background-color: #f5f5f5;
		border-radius: to-rem(4);

		p {
			font-size: to-rem(14);
			color: #333;
			line-height: 1.5;
			margin: 0;
		}
	}

	.attendance-input {
		textarea {
			width: 100%;
			min-height: to-rem(120);
			padding: to-rem(12);
			border: 1px solid #ddd;
			border-radius: to-rem(4);
			font-size: to-rem(14);
			line-height: 1.5;
			resize: vertical;
			font-family: inherit;

			&::placeholder {
				color: #999;
			}

			&:focus {
				outline: none;
				border-color: #3c79c2;
				box-shadow: 0 0 0 2px rgba(60, 121, 194, 0.1);
			}
		}
	}
}

.library-schedule-modal {
	text-align: center;

	.schedule-header {
		margin-bottom: to-rem(20);

		h2 {
			font-size: to-rem(18);
			font-weight: 600;
			color: #333;
			margin: 0 0 to-rem(8) 0;
		}

		h3 {
			font-size: to-rem(16);
			font-weight: 600;
			color: #333;
			margin: 0;
		}
	}

	.schedule-status {
		margin-bottom: to-rem(24);

		.status-badge {
			display: inline-block;
			background-color: #3c79c2;
			color: white;
			padding: to-rem(8) to-rem(20);
			border-radius: to-rem(4);
			font-size: to-rem(14);
			font-weight: 500;
		}
	}

	.schedule-content {
		text-align: left;
		background-color: #f5f5f5;
		padding: to-rem(20);
		border-radius: to-rem(4);

		ul {
			margin: 0;
			padding: 0;
			list-style: none;

			li {
				font-size: to-rem(14);
				color: #333;
				line-height: 1.6;
				margin-bottom: to-rem(8);
				position: relative;
				padding-left: to-rem(16);

				&:last-child {
					margin-bottom: 0;
				}

				&:before {
					content: '•';
					position: absolute;
					left: 0;
					color: #333;
				}
			}
		}
	}
}

.cat-activities-section {
	.ui-select-container {
		width: 100%;
	}
	.com-grid {
		margin-bottom: 45px;
		@include mobile {
			margin-bottom: 30px;
		}
	}
}

/* 돔 영화 테이블 스타일 */
.dome-movie-table .poster-cell {
	text-align: center;
	vertical-align: middle;
}

.dome-movie-table .poster-cell img {
	display: inline-block;
	width: 144px;
	height: auto;
	object-fit: cover;
	border-radius: 4px;
}

.dome-movie-table .content-cell {
	line-height: 1.6;
	vertical-align: top;
}

@media (max-width: 900px) {
	.dome-movie-table .poster-cell img {
		width: 100px;
		height: 120px;
	}
}

.usage-guide__table-cell {
	text-align: center;
	img {
		display: inline-block;
	}
}

.date-selectors {
	.date-selector-header {
		padding: 16px 24px;

		@include mobile {
			padding: 12px 16px;
		}

		.date-controls {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 8px;

			@include mobile {
				gap: 6px;
			}

			.arrow-btn {
				display: flex;
				align-items: center;
				justify-content: center;
				width: 32px;
				height: 32px;
				border: 1px solid #cdd1d5;
				border-radius: 50%;
				background-color: transparent;
				cursor: pointer;
				transition: all 0.2s ease;

				@include mobile {
					width: 28px;
					height: 28px;
				}

				&:hover {
					background-color: #f0f0f0;
				}

				img {
					width: 19.2px;
					height: 19.2px;

					@include mobile {
						width: 16px;
						height: 16px;
					}
				}
			}

			.date-display {
				display: flex;
				align-items: center;
				gap: 4px;

				@include mobile {
					gap: 2px;
				}

				.date-item {
					display: flex;
					align-items: center;
					justify-content: center;
					height: 40px;
					padding: 0 8px;
					border-radius: 6px;
					background-color: transparent;

					@include mobile {
						height: 36px;
						padding: 0 6px;
					}

					.date-text {
						font-family: 'Pretendard GOV', sans-serif;
						font-weight: 700;
						font-size: 24px;
						line-height: 1.5;
						color: #1e2124;

						@include mobile {
							font-size: 20px;
						}
					}
				}
			}
		}
	}

	/* 대출급상승도서 테이블 스타일 */
	.popular-books-table-wrapper {
		width: 100%;
		margin-top: 16px;
		@include mobile {
			overflow-x: auto;
		}
	}

	.popular-books-table {
		width: 100%;
		border-collapse: collapse;
		border-spacing: 0;

		thead {
			tr {
				background-color: #ecf2f9;
				border-top: 2px solid #004d80;

				th {
					height: 44px;
					padding: 8px 16px;
					border-right: 1px solid #d8e4f3;
					border-bottom: 1px solid #d8e4f3;
					font-weight: 700;
					font-size: 15px;
					line-height: 1.5;
					color: #191a1a;
					text-align: center;
					vertical-align: middle;

					@include mobile {
						font-size: 13px;
						height: 40px;
						padding: 8px 12px;
					}

					&:last-child {
						border-right: none;
					}

					&.rank-col {
						min-width: 60px;
					}

					&.institution-col {
						min-width: 100px;
					}

					&.date1-col {
						min-width: 100px;
					}

					&.date2-col {
						min-width: 100px;
					}

					&.count-col {
						min-width: 100px;
					}

					&.title-col {
						width: auto;
						min-width: 300px;
					}

					&.isbn-col {
						min-width: 180px;
					}
				}
			}
		}

		tbody {
			tr {
				border-bottom: 1px solid #cbcccc;

				&:hover {
					background-color: #f8f9fa;
				}

				td {
					padding: 12px 16px;
					border-right: 1px solid #cbcccc;
					font-size: 17px;
					line-height: 1.5;
					color: #4b4d4d;
					vertical-align: middle;

					@include mobile {
						padding: 8px 12px;
						font-size: 15px;
					}

					&:last-child {
						border-right: none;
					}

					&.rank-col {
						text-align: center;
						width: 70px;

						.rank-number {
							font-weight: 400;
							color: #464c53;
						}
					}

					&.institution-col {
						text-align: center;
						width: 100px;

						.rank-change-badge {
							display: inline-flex;
							align-items: center;
							justify-content: center;
							gap: 0px;
							height: 36px;
							width: auto;
							padding: 8px 12px;
							background-color: #3c79c2;
							border-radius: 20px;

							@include mobile {
								height: 30px;
								padding: 6px 10px;
							}

							img {
								width: 24px;
								height: 24px;

								@include mobile {
									width: 20px;
									height: 20px;
								}
							}

							.change-number {
								font-weight: 500;
								font-size: 17px;
								color: white;

								@include mobile {
									font-size: 14px;
								}
							}
						}
					}

					&.date1-col,
					&.date2-col,
					&.count-col {
						text-align: center;
						width: 60px;

						.date-text,
						.count-text {
							font-weight: 400;
						}
					}

					&.title-col {
						width: auto;
						min-width: 360px;

						.book-info {
							display: flex;
							flex-direction: row;
							align-items: center;
							gap: 16px;
							width: 100%;

							@include mobile {
								gap: 12px;
							}

							.book-image {
								flex-shrink: 0;
								width: 70px;
								height: 105px;
								background-color: #f0f0f0;
								border-radius: 4px;
								overflow: hidden;

								@include mobile {
									width: 50px;
									height: 75px;
								}

								img {
									width: 100%;
									height: 100%;
									object-fit: cover;
								}
							}

							.book-details {
								flex: 1;
								display: flex;
								flex-direction: column;
								gap: 16px;

								@include mobile {
									gap: 8px;
								}

								.book-title {
									font-weight: 700;
									font-size: 19px;
									line-height: 1.5;
									color: #4b4d4d;
									margin: 0;
									overflow: hidden;
									text-overflow: ellipsis;
									display: -webkit-box;
									-webkit-line-clamp: 2;
									line-clamp: 2;
									-webkit-box-orient: vertical;

									@include mobile {
										font-size: 16px;
									}
								}

								.book-author {
									font-weight: 400;
									font-size: 17px;
									line-height: 1.5;
									color: #4b4d4d;
									margin: 0;

									@include mobile {
										font-size: 14px;
									}
								}
							}
						}
					}

					&.isbn-col {
						text-align: center;
						width: 180px;

						.isbn-text {
							font-weight: 400;

							@include mobile {
								font-size: 13px;
							}
						}
					}
				}
			}
			.score-col {
				text-align: center;
			}
		}
	}
}

.source-text {
	@include font(to-rem(17), 700, #1e2124);
	margin-top: 40px;
	display: inline-block;
	text-align: right;
	@include mobile {
		display: inline-block;
		margin-top: 24px;
	}
}

.search-form {
	padding: 24px 0;
	border-bottom: 1px solid var(--color-gray-gy-30, #b1b3b3);
	border-top: 1px solid var(--color-gray-gy-30, #b1b3b3);
	@include mobile {
		padding: 16px 0;
	}
	dl {
		display: flex;
		align-items: center;
		gap: 24px;
		margin-bottom: 16px;
		@include mobile {
			margin-bottom: 10px;
		}
		&:last-child {
			margin-bottom: 0;
		}
		dt {
			min-width: 160px;
			@include font(to-rem(17), 700, #1e2124);
			@include mobile {
				font-size: to-rem(15);
				min-width: 60px;
				text-align: center;
			}
		}
		dd {
			flex: 1;
		}
	}
}

.ai-book-queue {
	display: flex;
	flex-direction: column;
	gap: 24px;
	align-items: center;
	padding: 24px;
	background-color: #f1f2f2;
	border-radius: 12px;
	margin-bottom: 24px;

	.ai-intro-section {
		display: flex;
		flex-direction: column;
		gap: 16px;
		width: 100%;

		.intro-header {
			text-align: center;

			.intro-subtitle {
				font-size: 24px;
				font-weight: 400;
				line-height: 1.5;
				color: #191a1a;
				margin: 0;

				@media (max-width: 900px) {
					font-size: 20px;
				}
			}
		}

		.intro-title-area {
			display: flex;
			gap: 16px;
			align-items: center;
			justify-content: center;
			width: 100%;

			@media (max-width: 900px) {
				gap: 12px;
			}

			.title-text {
				font-size: 36px;
				font-weight: 700;
				line-height: 1.5;
				color: #191a1a;

				@media (max-width: 900px) {
					font-size: 28px;
				}
			}

			.ai-chatbot-icon {
				height: 85px;
				width: 62px;

				@media (max-width: 900px) {
					height: 65px;
					width: 48px;
				}

				img {
					width: 100%;
					height: 100%;
					object-fit: contain;
				}
			}
		}
	}

	.ai-description-card {
		background-color: #ffffff;
		border: 1px solid #cbcccc;
		border-radius: 6px;
		padding: 32px;
		display: flex;
		flex-direction: column;
		gap: 10px;
		align-items: center;
		position: relative;

		@media (max-width: 900px) {
			padding: 20px;
		}

		.quote-icon {
			width: 16px;
			height: 16px;

			img {
				width: 100%;
				height: 100%;
				object-fit: contain;
			}
		}

		.description-content {
			.highlight-text {
				position: relative;
				&::before {
					content: '';
					position: absolute;
					background-color: #fde0b0;
					height: 8px;
					left: 0.5px;
					top: 40px;
					width: 318px;
					z-index: 0;

					@media (max-width: 900px) {
						display: none;
					}
				}

				p {
					position: relative;
					z-index: 2;
					font-size: 17px;
					font-weight: 400;
					line-height: 1.5;
					color: #4b4d4d;
					text-align: center;
					margin: 0;

					@media (max-width: 900px) {
						font-size: 15px;
					}

					strong {
						font-weight: 700;
					}
				}
			}
		}

		.info-notice {
			display: flex;
			gap: 4px;
			align-items: center;
			width: 100%;

			.info-icon {
				flex-shrink: 0;

				img {
					width: 16.667px;
					height: 16.667px;
					object-fit: contain;
				}
			}

			.info-text {
				font-size: 12px;
				font-weight: 400;
				line-height: 1.5;
				color: #7d8181;
				margin: 0;
				flex: 1;

				@media (max-width: 900px) {
					font-size: 11px;
				}
			}
		}
	}
}

.ai-carousel-section {
	margin-top: 24px;
	width: 100%;

	.carousel-container {
		display: flex;
		gap: 16px;
		align-items: center;
		width: 100%;

		.carousel-btn {
			width: 40px;
			height: 40px;
			border-radius: 1000px;
			border: none;
			display: flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			flex-shrink: 0;
			transition: all 0.2s ease;

			&--prev {
				background-color: #ffffff;
				border: 1px solid #3c79c2;

				&:hover {
					background-color: #f8f9fa;
				}
			}

			&--next {
				background-color: #3c79c2;

				&:hover {
					background-color: #2d5a94;
				}

				img {
					filter: brightness(0) invert(1);
				}
			}

			img {
				width: 24px;
				height: 24px;
				object-fit: contain;
			}
		}

		.carousel-content {
			flex: 1;
			overflow: hidden;

			.carousel-slide {
				display: flex;
				gap: 12px;
				width: 100%;

				@media (max-width: 900px) {
					gap: 8px;
				}

				.slide-card {
					flex: 1;
					background-color: #ffffff;
					border: 1px solid #b1b3b3;
					border-radius: 6px;
					padding: 16px;
					display: flex;
					align-items: center;
					justify-content: center;
					min-height: 78px;
					cursor: pointer;
					transition: all 0.2s ease;

					&--active {
						border: 2px solid #3c79c2;
					}

					&:hover {
						border-color: #3c79c2;
						background-color: #f8f9fa;
					}

					@media (max-width: 900px) {
						padding: 12px;
						min-height: 70px;
					}

					p {
						font-size: 15px;
						font-weight: 400;
						line-height: 1.5;
						color: #1d1d1d;
						text-align: center;
						margin: 0;
						display: -webkit-box;
						-webkit-line-clamp: 3;
						-webkit-box-orient: vertical;
						overflow: hidden;
						text-overflow: ellipsis;

						@media (max-width: 900px) {
							font-size: 13px;
							-webkit-line-clamp: 4;
						}
					}
				}
			}
		}
	}
}
.ai-bookqueue-detail-page {
	.ai-bookqueue-section {
		margin-bottom: 24px;

		@include mobile {
			margin-bottom: 20px;
		}

		.ai-chat-bubble {
			background-color: #f1f2f2;
			border: 1px solid #cbcccc;
			border-radius: 8px;
			padding: 24px;
			display: flex;
			align-items: center;
			gap: 24px;

			@include mobile {
				padding: 16px;
				gap: 16px;
				flex-direction: column;
				align-items: flex-start;
			}

			.chat-content {
				flex: 1;
				display: flex;
				align-items: center;
				gap: 10px;

				@include mobile {
					flex-direction: column;
					width: 100%;
				}

				.quote-left {
					flex-shrink: 0;
					width: 16px;
					height: 16px;

					img {
						width: 100%;
						height: 100%;
						object-fit: contain;
					}
				}

				.right{
					display: flex;
				}

				.chat-text {
					flex: 1;
					margin: 0 10px;

					@include mobile {
						margin: 0;
					}

					p {
						@include font(17px, 400, #191a1a, 1.5);
						margin: 0;

						@include mobile {
							font-size: 15px;
						}
					}
				}

				.quote-right {
					flex-shrink: 0;
					width: 16px;
					height: 16px;
					align-self: end;

					img {
						width: 100%;
						height: 100%;
						object-fit: contain;
					}
				}
			}

			.ai-chatbot-icon {
				flex-shrink: 0;
				width: 62px;
				height: 85px;

				@include mobile {
					width: 48px;
					height: 66px;
				}

				img {
					width: 100%;
					height: 100%;
					object-fit: contain;
				}
			}
		}
	}
}

.recommend-header {
	display: flex;
	align-items: center;
	gap: 16px;
	margin-top: 24px;
	margin-bottom: 16px;

	@include mobile {
		gap: 12px;
		margin-top: 20px;
		margin-bottom: 12px;
	}

	.book-title {
		display: flex;
		align-items: center;

		h3 {
			@include font(to-rem(19), 700, #191a1a);

			@include mobile {
				font-size: to-rem(16);
				line-height: 1.5;
				word-break: break-all;
			}
		}
	}

	.recommend-badge {
		position: relative;

		@include mobile {
			flex: none;
			background:  #FBBC53;
			border-radius: 6px;
			padding: 5px;
		}

		.badge-background{
			@include mobile {
				display: none;
			}
		}

		.badge-content {
			position: absolute;
			left: 12px;
			top: 6px;
			display: flex;
			align-items: center;
			z-index: 10;
			@include font(to-rem(17), 700, #191a1a);
			@include mobile {
				left: 0px;
				top: 0px;
				font-size: to-rem(14);
				position: relative;
				flex:none;
			}

			.badge-text{
				@include font(to-rem(17), 700, #191a1a);
				flex:none;
			}
		}
	}
}

.ai-bookqueue-detail-page {
	.additional-questions-section {
		margin-top: 40px;
		padding-top: 40px;
		border-top: 1px solid #cbcccc;

		@include mobile {
			margin-top: 32px;
			padding-top: 32px;
		}

		.section-header {
			display: flex;
			align-items: center;
			gap: 8px;
			margin-bottom: 24px;

			@include mobile {
				gap: 6px;
				margin-bottom: 20px;
			}

			.ai-icon {
				width: 52px;
				height: 52px;
				flex-shrink: 0;

				@include mobile {
					width: 40px;
					height: 40px;
				}

				img {
					width: 100%;
					height: 100%;
					object-fit: contain;
				}
			}

			h2 {
				@include font(19px, 700, #191a1a, 1.5);
				margin: 0;
				flex: 1;

				@include mobile {
					font-size: 16px;
				}
			}
		}

		.questions-list {
			display: flex;
			flex-direction: column;
			gap: 16px;

			@include mobile {
				gap: 12px;
			}

			.question-item {
				background-color: #e5e5e5;
				border-radius: 16px 16px 16px 0;
				padding: 16px;
				cursor: pointer;
				transition: all 0.2s ease;
				@include font(17px, 400, #191a1a, 1.5);

				@include mobile {
					padding: 12px;
					font-size: 15px;
				}

				&:hover {
					background-color: #cbcccc;
					transform: translateY(-1px);
				}

				&:active {
					transform: translateY(0);
				}
			}
		}
	}
}

.ai-loading-section {
	display: flex; gap:8px; align-items: center;
	flex-direction: column;
	position: absolute;
	left: 50%;
	top: 50%;
	min-width: 280px;
	transform: translate(-50%, -50%);
	background: white;
	border: 3px solid #b1cae7;
	border-radius: 25px;
	padding: 32px;
	margin: 40px 0;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0px 0px 40px 0px rgba(102, 102, 102, 0.4);

	@include mobile {
		min-width: auto;
		padding: 24px;
		margin: 32px 0;
		flex-direction: column;
		gap: 16px;
		width: 60%;
	}

	.ai-chatbot-icon {
		width: 100px;
		height: 100px;
		flex-shrink: 0;

		img {
			width: 100%;
			height: 100%;
			object-fit: contain;
		}
	}

	.loading-text {
		@include font(19px, 400, #191a1a, 1.5, center);
		text-align: center;

		@include mobile {
			font-size: 17px;
		}

		.ai-brand {
			font-weight: 700;
			color: #3c79c2;
		}
	}
}

.additional-questions-section {
	margin-top: 40px;
	padding-top: 40px;
	border-top: 1px solid #cbcccc;

	@include mobile {
		margin-top: 32px;
		padding-top: 32px;
	}

	.section-header {
		display: flex;
		align-items: center;
		gap: 8px;
		margin-bottom: 24px;

		.ai-icon {
			width: 52px;
			height: 52px;
			flex-shrink: 0;

			img {
				width: 100%;
				height: 100%;
				object-fit: contain;
			}
		}

		h2 {
			@include font(19px, 700, #191a1a, 1.5);
			margin: 0;
			flex: 1;
		}
	}

	.questions-list {
		display: flex;
		flex-direction: column;
		gap: 16px;

		.question-item {
			background-color: #e5e5e5;
			border: none;
			border-radius: 16px 16px 16px 0;
			padding: 16px;
			text-align: left;
			cursor: pointer;
			transition: all 0.2s ease;
			@include font(17px, 400, #191a1a, 1.5);
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;

			@include mobile {
				white-space: normal;
				word-break: keep-all;
				word-wrap: break-word;
			}

			&:hover {
				background-color: #cbcccc;
				transform: translateY(-1px);
			}

			&:active {
				transform: translateY(0);
			}
		}
	}
}

.bookshelf-add__message{
	@include font(to-rem(19), 700, #191a1a);
	line-height: 1.5;
	word-break: keep-all;
}
