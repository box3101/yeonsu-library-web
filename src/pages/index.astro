---
import Layout from '@layouts/Layout.astro';
import UiRadio from '@components/UiRadio.astro';
import UiSelect from '@components/UiSelect.astro';
import UiNavButton from '@components/UiNavButton.astro';
import UiTab from '@components/UiTab.astro';

// 셀렉트 옵션 데이터
const selectOptions = [
  { value: 'all', label: '전체' },
  { value: 'central', label: '중앙도서관' },
  { value: 'branch', label: '분관' },
];

// 탭 데이터
const eventTabs = [
  { id: 'culture', label: '문화행사', active: true },
  { id: 'program', label: '프로그램', active: false },
  { id: 'movie', label: '영화상영', active: false },
];

// 신규 컨텐츠 바로가기 데이터
const newContentItems = [
  {
    id: 'life-library',
    title: '인생서가',
    image: './assets/images/content-life-library.png',
    backgroundColor: '#AECDFF',
    link: '#',
  },
  {
    id: 'school-books',
    title: '스쿨북스',
    image: './assets/images/content-school-books.png',
    backgroundColor: '#A5D5DC',
    link: '#',
  },
  {
    id: 'infant-books',
    title: '영유아\n전집 대여',
    image: './assets/images/content-infant-books.png',
    backgroundColor: '#FFEE99',
    link: '#',
  },
  {
    id: 'attendance-event',
    title: '출석체크\n이벤트',
    image: './assets/images/content-attendance.png',
    backgroundColor: '#82C3F8',
    link: '#',
  },
];

// 이벤트 카드 데이터
const eventCards = [
  {
    tag: '연수꿈담',
    tagColor: '#a3cf62',
    title:
      '[여름방학 독서교실] 그림책 주인공 뜨기(어린이 손뜨개) (초등 3~4학년)',
    educationPeriod: '2025-07-30 ~ 2025-08-02',
    applicationPeriod: '2025-07-17 ~ 2025-07-17',
    enrollment: { current: '50', total: '50' },
    waitlist: { current: '0', total: '50' },
  },
  {
    tag: '송도5동',
    tagColor: '#e45f53',
    title: '[대기자접수] [특화/초등3~5학년] AI 머신러닝 3D LAMP',
    educationPeriod: '2025-07-19 ~ 2025-08-09',
    applicationPeriod: '2025-07-16 ~ 2025-07-18',
    enrollment: { current: '50', total: '50' },
    waitlist: { current: '0', total: '50' },
  },
  {
    tag: '누리공원',
    tagColor: '#7b19d7',
    title: '[한국사 특화/유아] 영어로 소개하는 한국사 위인(여름방학)',
    educationPeriod: '2025-08-05 ~ 2025-08-14',
    applicationPeriod: '2025-07-08 ~ 2025-07-18',
    enrollment: { current: '12', total: '50', status: '(마감)' },
    waitlist: { current: '0', total: '50' },
  },
  {
    tag: '송도국제',
    tagColor: '#8e63aa',
    title:
      '[★대기자 모집_ 2025 여름방학 독서교실] 1교시 (초등 2~3학년) <뜨거운 태양 아래의 비밀 – 고대문명의 여름 이야기>',
    educationPeriod: '2025-08-05 ~ 2025-08-08',
    applicationPeriod: '2025-07-24 ~ 2025-08-04',
    enrollment: { current: '12', total: '50', status: '(마감)' },
    waitlist: { current: '0', total: '50' },
  },
];
---

<Layout>
  <div class="main-container">
    <!--  비쥬얼 영역 -->
    <section class="banner container">
      <!-- 배경 이미지 컨테이너 -->
      <div class="banner__background"></div>
      <div class="banner__mask-group"></div>

      <!-- 메인 콘텐츠 -->
      <div class="banner__content">
        <!-- 제목 영역 -->
        <div class="banner__text-group">
          <div class="banner__title-section">
            <h1 class="banner__main-title">
              마음의 문을 여는 첫 번째 공간, <span>연수구립도서관!</span>
            </h1>
            <p class="banner__sub-title">
              연수구립도서관에서 다양한 책을 만나보세요!
            </p>
          </div>
        </div>

        <!-- 검색 영역 -->
        <div class="banner__search-container">
          <form class="banner__search-form">
            <!-- 라디오 버튼 그룹 -->
            <div class="banner__radio-group">
              <div class="radio-button">
                <UiRadio
                  name="large-demo"
                  value="option1"
                  size="large"
                  label="도서검색"
                />
                <UiRadio
                  name="large-demo"
                  value="option2"
                  size="large"
                  label="통합검색"
                />
              </div>
            </div>
            <div class="banner__search-input-container">
              <!-- 구분선 -->
              <div class="banner__divider"></div>

              <!-- 검색 입력 영역 -->
              <div class="banner__input-container">
                <input
                  type="text"
                  class="banner__search-input"
                  placeholder="검색어를 입력해주세요."
                  aria-label="검색어 입력"
                />
              </div>

              <!-- 버튼 그룹 -->
              <div class="banner__button-group">
                <button
                  type="button"
                  class="banner__clear-btn"
                  aria-label="입력 내용 지우기"
                >
                  <img
                    src="./assets/images/icon/search-delete.svg"
                    alt="입력 내용 지우기"
                  />
                </button>

                <button
                  type="submit"
                  class="banner__search-btn"
                  aria-label="검색"
                >
                  <img src="./assets/images/icon/icon-search.svg" alt="검색" />
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>
    <!-- // 비쥬얼 영역 -->

    <!-- 공지사항, 자주 찾는 페이지 -->
    <section class="notice-section container">
      <div class="inner">
        <div class="notice-section__content">
          <!-- 좌측 공지사항 영역 -->
          <div class="notice-section__left">
            <!-- 상단 헤더 -->
            <div class="notice-section__header">
              <div class="notice-section__titles">
                <h2 class="notice-section__title">자주찾는 페이지</h2>
              </div>
              <button class="notice-section__more-btn com-more-btn">
                <span>더보기</span>
                <svg
                  class="notice-section__more-icon"
                  viewBox="0 0 24 24"
                  fill="none"
                >
                  <path
                    d="M12 5V19M5 12L19 12"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"></path>
                </svg>
              </button>
            </div>

            <!-- 필터 및 네비게이션 -->
            <div class="notice-section__controls">
              <div class="notice-section__filter">
                <UiSelect
                  name="library-filter"
                  options={selectOptions}
                  value="all"
                  width={180}
                  height={56}
                />
                <div class="notice-section__nav">
                  <UiNavButton
                    direction="prev"
                    size={40}
                    ariaLabel="이전 공지사항"
                  />
                  <UiNavButton
                    direction="next"
                    size={40}
                    ariaLabel="다음 공지사항"
                  />
                </div>
              </div>
            </div>

            <!-- 공지사항 목록 -->
            <div class="notice-section__list">
              {
                Array.from({ length: 4 }, (_, i) => {
                  const items = [
                    {
                      tag: '선학별빛',
                      tagClass: 'notice-item__tag--pink',
                      title:
                        '선학별빛도서관 2025년 5~6월 유실물 게시 (07.05) 글자테스트글자테스트글자테스트글자테스트글자테스트글자테스트글자테스트글자테스트글자테스트',
                      date: '07.05',
                      isBold: false,
                    },
                    {
                      tag: '동춘나래',
                      tagClass: 'notice-item__tag--gray',
                      title: '[동춘나래] 2025년 5~6월 유실물 게시 목록 (07.04)',
                      date: '07.05',
                      isBold: true,
                    },
                    {
                      tag: '해돋이',
                      tagClass: 'notice-item__tag--orange',
                      title: '해산물공원작은도서관 사서도우미(자원활동(06.26))',
                      date: '07.05',
                      isBold: false,
                    },
                    {
                      tag: '솔안공원',
                      tagClass: 'notice-item__tag--navy',
                      title:
                        '2025년 솔안공원 작은도서관 [특화 프로그램(06.26)]',
                      date: '07.05',
                      isBold: false,
                    },
                  ];
                  const item = items[i];
                  return (
                    <a href="#" class="notice-item">
                      <div class="notice-item__content">
                        <div class="notice-item__info">
                          <span class={`notice-item__tag ${item.tagClass}`}>
                            {item.tag}
                          </span>
                          <h3 class={`notice-item__title`}>{item.title}</h3>
                        </div>
                        <span class="notice-item__date">{item.date}</span>
                      </div>
                    </a>
                  );
                })
              }
            </div>
          </div>

          <!-- 우측 자주 찾는 페이지 영역 -->
          <div class="notice-section__right">
            <div class="notice-section__header">
              <div class="notice-section__titles">
                <h2 class="notice-section__title">자주찾는 페이지</h2>
              </div>
            </div>
            <div class="quick-links">
              <div class="quick-links__grid">
                <a href="#" class="quick-link">
                  <div class="quick-link__icon">
                    <img
                      src="./assets/images/icon/quick-link01.svg"
                      alt="반납연기"
                      class="quick-link__icon-img"
                    />
                  </div>
                  <span class="quick-link__text">반납연기</span>
                </a>
                <a href="#" class="quick-link">
                  <div class="quick-link__icon">
                    <img
                      src="./assets/images/icon/quick-link02.svg"
                      alt="희망자료신청"
                      class="quick-link__icon-img"
                    />
                  </div>
                  <span class="quick-link__text">희망자료신청</span>
                </a>
                <a href="#" class="quick-link quick-link--primary">
                  <div class="quick-link__icon">
                    <img
                      src="./assets/images/icon/quick-link03.svg"
                      alt="문화행사신청"
                      class="quick-link__icon-img"
                    />
                  </div>
                  <span class="quick-link__text">문화행사신청</span>
                </a>
                <a href="#" class="quick-link">
                  <div class="quick-link__icon">
                    <img
                      src="./assets/images/icon/quick-link04.svg"
                      alt="프로그램신청"
                      class="quick-link__icon-img"
                    />
                  </div>
                  <span class="quick-link__text">프로그램신청</span>
                </a>
                <a href="#" class="quick-link">
                  <div class="quick-link__icon">
                    <img
                      src="./assets/images/icon/quick-link05.svg"
                      alt="열람실좌석현황"
                      class="quick-link__icon-img"
                    />
                  </div>
                  <span class="quick-link__text">열람실좌석현황</span>
                </a>
                <a href="#" class="quick-link">
                  <div class="quick-link__icon">
                    <img
                      src="./assets/images/icon/quick-link06.svg"
                      alt="도서관안내"
                      class="quick-link__icon-img"
                    />
                  </div>
                  <span class="quick-link__text">도서관안내</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- // 공지사항, 자주 찾는 페이지 -->

    <!-- 문화행사, 프로그램, 영화상영 -->
    <section class="event-section">
      <div class="container">
        <div class="event-section__left">
          <div class="event-section__header flex justify-between items-center">
            <!-- 공통탭 -->
            <UiTab tabs={eventTabs} className="event-section__tabs" />
            <!-- 공통탭 EEE-->
            <button class="com-more-btn">
              <span>더보기</span>
              <svg class="com-more-btn__icon" viewBox="0 0 24 24" fill="none">
                <path
                  d="M12 5V19M5 12L19 12"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"></path>
              </svg>
            </button>
          </div>
          <!-- 탭 컨텐츠 영역 -->
          <div class="event-section__content">
            <!-- 문화행사 탭 패널 -->
            <div id="panel-culture" class="ui-tab-panel ui-tab-panel--active">
              <div
                class="event-section__filter flex justify-between items-center"
              >
                <UiSelect
                  name="library-filter"
                  options={selectOptions}
                  value="all"
                  width={180}
                  height={56}
                />
                <div class="event-section__nav flex items-center gap-4">
                  <UiNavButton
                    direction="prev"
                    size={40}
                    ariaLabel="이전 공지사항"
                  />
                  <UiNavButton
                    direction="next"
                    size={40}
                    ariaLabel="다음 공지사항"
                  />
                </div>
              </div>
              <ul class="event-cards">
                {
                  eventCards.map((card, index) => (
                    <li class="event-card">
                      <a href="#" class="event-card__link">
                        <div
                          class="event-card__tag"
                          style={`background-color: ${card.tagColor}`}
                        >
                          {card.tag}
                        </div>
                        <div class="event-card__content">
                          <h4 class="event-card__title">{card.title}</h4>
                          <div class="event-card__info">
                            <div class="event-card__info-left">
                              <div class="event-card__info-item">
                                <span class="event-card__label">교육기간</span>
                                <span class="event-card__value">
                                  {card.educationPeriod}
                                </span>
                              </div>
                              <div class="event-card__info-item">
                                <span class="event-card__label">모집인원</span>
                                <span class="event-card__value">
                                  <span class="event-card__highlight">
                                    {card.enrollment.current}
                                  </span>
                                  /{card.enrollment.total}
                                  {card.enrollment.status || ''}
                                </span>
                              </div>
                            </div>
                            <div class="event-card__info-right">
                              <div class="event-card__info-item">
                                <span class="event-card__label">접수기간</span>
                                <span class="event-card__value">
                                  {card.applicationPeriod}
                                </span>
                              </div>
                              <div class="event-card__info-item">
                                <span class="event-card__label">예비인원</span>
                                <span class="event-card__value">
                                  <span class="event-card__highlight">
                                    {card.waitlist.current}
                                  </span>
                                  /{card.waitlist.total}
                                </span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </a>
                    </li>
                  ))
                }
              </ul>
            </div>
          </div>
        </div>
        <div class="event-section__right">
          <!-- 신규 컨텐츠 바로가기 -->
          <div class="new-content-shortcuts">
            <h3 class="new-content-shortcuts__title">신규 컨텐츠 바로가기</h3>
            <div class="new-content-shortcuts__grid">
              {
                newContentItems.map(item => (
                  <a
                    href={item.link}
                    class="new-content-item"
                    style={`background-color: ${item.backgroundColor}`}
                  >
                    <div class="new-content-item__image">
                      <img src={item.image} alt={item.title} />
                    </div>
                    <div class="new-content-item__content">
                      <h4
                        class="new-content-item__title"
                        style="white-space: pre-line; text-align: right;"
                      >
                        {item.title}
                      </h4>
                      <div class="new-content-item__arrow">
                        <img
                          src="./assets/images/icon/icon-arr-right.svg"
                          alt="arrow-right"
                        />
                      </div>
                    </div>
                  </a>
                ))
              }
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</Layout>
