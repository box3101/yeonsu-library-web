---
import Layout from '@/layouts/Layout.astro';
import SubLayout from '@/components/layout/SubLayout.astro';

const breadcrumbItems = [
	{ label: '홈', href: '/' },
	{ label: '나의도서관', href: '/나의도서관' },
	{ label: '내정보', href: '/내정보' },
	{ label: '모바일회원증' },
];
---

<Layout title="내정보 - 모바일회원증">
	<SubLayout title="모바일회원증" breadcrumbItems={breadcrumbItems} menuType="나의도서관">
		<div class="sub-layout__content">
			<div class="sub-layout__content-inner">
				<div class="sub-layout__content-inner-body">
					<div class="sub-layout__content-inner-body-item">
						<!-- 모바일 회원증 컨테이너 -->
						<div class="mobile-card-container">
							<!-- 모바일 회원증 카드 -->
							<div class="mobile-card-new">
								<div class="mobile-card-new__header">
									<div class="mobile-card-new__title-en">
										INCHEON Yeonsu Public Library<br />
										Mobile Card
									</div>
									<div class="mobile-card-new__title-ko">인천연수구립도서관</div>
								</div>

								<div class="mobile-card-new__member-info">
									<div class="mobile-card-new__row">
										<span class="mobile-card-new__label">이름</span>
										<span class="mobile-card-new__value">이시오</span>
									</div>
									<div class="mobile-card-new__row">
										<span class="mobile-card-new__label">회원번호</span>
										<span class="mobile-card-new__value">1234567891</span>
									</div>
								</div>
							</div>

							<!-- 바코드 섹션 -->
							<div class="barcode-section" id="barcodeSection">
								<!-- QR 보기 버튼 -->
								<div class="barcode-section__qr-toggle">
									<button type="button" class="barcode-section__qr-btn" id="toggleBtn" aria-label="QR 코드 보기">
										<img src="./assets/images/icon/icon-qr.svg" alt="" />
										<span class="barcode-section__qr-text" id="toggleText">QR 보기</span>
									</button>
								</div>
								<div class="barcode-section__timestamp">2025.07.23 10:25:52</div>
								<!-- 바코드 영역 -->
								<div class="barcode-section__barcode" id="barcodeArea">
									<!-- 이미지 바코드  -->
									<!-- <img src="./assets/images/barcode-sample.svg" alt="바코드" /> -->
									<svg
										id="barcode"
										width="200px"
										height="122px"
										x="0px"
										y="0px"
										viewBox="0 0 200 122"
										xmlns="http://www.w3.org/2000/svg"
										version="1.1"
										style="transform: translate(0,0)"
									>
										<rect x="0" y="0" width="200" height="122" style="fill:#ffffff;"></rect>
										<g transform="translate(10, 10)" style="fill:#000000;">
											<rect x="0" y="0" width="4" height="80"></rect>
											<rect x="6" y="0" width="2" height="80"></rect>
											<rect x="12" y="0" width="6" height="80"></rect>
											<rect x="22" y="0" width="2" height="80"></rect>
											<rect x="26" y="0" width="4" height="80"></rect>
											<rect x="34" y="0" width="6" height="80"></rect>
											<rect x="44" y="0" width="2" height="80"></rect>
											<rect x="52" y="0" width="2" height="80"></rect>
											<rect x="56" y="0" width="4" height="80"></rect>
											<rect x="66" y="0" width="6" height="80"></rect>
											<rect x="78" y="0" width="2" height="80"></rect>
											<rect x="82" y="0" width="4" height="80"></rect>
											<rect x="88" y="0" width="4" height="80"></rect>
											<rect x="100" y="0" width="2" height="80"></rect>
											<rect x="104" y="0" width="2" height="80"></rect>
											<rect x="110" y="0" width="4" height="80"></rect>
											<rect x="116" y="0" width="8" height="80"></rect>
											<rect x="126" y="0" width="4" height="80"></rect>
											<rect x="132" y="0" width="2" height="80"></rect>
											<rect x="138" y="0" width="8" height="80"></rect>
											<rect x="150" y="0" width="2" height="80"></rect>
											<rect x="154" y="0" width="4" height="80"></rect>
											<rect x="164" y="0" width="6" height="80"></rect>
											<rect x="172" y="0" width="2" height="80"></rect>
											<rect x="176" y="0" width="4" height="80"></rect>
											<text style="font-size: 14px;font-weight: 400;" text-anchor="middle" x="90" y="102">
												1234567890
											</text>
										</g>
									</svg>
								</div>

								<!-- QR 코드 영역 (숨김 상태로 시작) -->
								<div class="barcode-section__qrcode" id="qrcodeArea" style="display: none;">
									<img src="./assets/images/icon/icon-qrCode.svg" alt="QR 코드" />
								</div>
							</div>

							<!-- 탭 전환 스크립트 -->
							<script>
								(function () {
									var toggleBtn = document.getElementById('toggleBtn');
									var toggleText = document.getElementById('toggleText');
									var barcodeArea = document.getElementById('barcodeArea');
									var qrcodeArea = document.getElementById('qrcodeArea');
									var isShowingQR = false;

									toggleBtn.addEventListener('click', function () {
										isShowingQR = !isShowingQR;

										if (isShowingQR) {
											// QR 코드 보기
											barcodeArea.style.display = 'none';
											qrcodeArea.style.display = 'flex';
											toggleText.textContent = '바코드 보기';
											toggleBtn.setAttribute('aria-label', '바코드 보기');
										} else {
											// 바코드 보기
											barcodeArea.style.display = 'flex';
											qrcodeArea.style.display = 'none';
											toggleText.textContent = 'QR 보기';
											toggleBtn.setAttribute('aria-label', 'QR 코드 보기');
										}
									});
								})();
							</script>

							<!-- 통계 정보 -->
							<div class="member-stats">
								<div class="member-stats__item">
									<div class="member-stats__label">대출</div>
									<div class="member-stats__value">
										<span class="member-stats__number">0</span>
										<span class="member-stats__unit">건</span>
									</div>
								</div>

								<div class="member-stats__item">
									<div class="member-stats__label">예약</div>
									<div class="member-stats__value">
										<span class="member-stats__number">0</span>
										<span class="member-stats__unit">건</span>
									</div>
								</div>

								<div class="member-stats__item">
									<div class="member-stats__label">상태</div>
									<div class="member-stats__status">정상</div>
								</div>
							</div>

							<!-- 상태 메시지 -->
							<div class="member-status-message">대출가능 회원입니다.</div>

							<!-- 이용 안내 -->
							<div class="info-box">
								<div class="info-box__content">
									<ul class="info-list">
										<li>이용증은 도서관 출입, 대출반납 시 사용 가능합니다.</li>
										<li>모바일 이용증 리더부와 5~10cm 정도 거리를 유지하여 인식합니다.</li>
										<li>스마트폰의 화면 밝기를 최대로 조절하여 사용하여 주시기 바랍니다.</li>
										<li>본 이용증은 타인에게 양도하거나 대여할 수 없습니다.</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</SubLayout>
</Layout>
