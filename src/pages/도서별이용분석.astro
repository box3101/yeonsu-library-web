---
import Layout from '../layouts/Layout.astro';
import SubLayout from '../components/layout/SubLayout.astro';
import UiInput from '../components/ui/UiInput.astro';
import UiButton from '../components/ui/UiButton.astro';
import UiPagination from '../components/ui/UiPagination.astro';

const breadcrumbItems = [
	{ label: '홈', href: '/' },
	{ label: '도서검색', href: '/search' },
	{ label: '도서별이용분석', href: '/도서별이용분석' },
];

// 도서별이용분석 데이터
const popularBooks = [
	{
		rank: 72,
		title: '삼형제 토끼 :현덕 대표 그림동화',
		author: '2010 / 처음주니어 / 현덕 글 ;홍영우 그림',
		isbn: '92323232323',
		availableCount: 100,
		loanCount: 7902,
		image: './assets/images/book1.jpg',
	},
	{
		rank: 1,
		title: '저주토끼 (리커버)',
		author: '2022 / 아작 / 정보라(지은이)',
		isbn: '9791166866665',
		availableCount: 63,
		loanCount: 4848,
		image: './assets/images/book1.jpg',
	},
	{
		rank: 2,
		title: '순례 주택 :유은실 소설',
		author: '2021 / 비용소 / 지은이: 유은실',
		isbn: '9788949123493',
		availableCount: 100,
		loanCount: 153,
		image: './assets/images/book2.jpg',
	},
	{
		rank: 3,
		title: '빛과 실',
		author: '2025 / 문학과지성사 / 지은이: 한강',
		isbn: '9788932043562',
		availableCount: 89,
		loanCount: 175,
		image: './assets/images/book3.jpg',
	},
	{
		rank: 4,
		title: '아들과 아버지',
		author: '2021 / 가치창조 / 이정록 글 ;배민경 그림',
		isbn: '9788963012483',
		availableCount: 100,
		loanCount: 4848,
		image: './assets/images/book4.jpg',
	},
];
---

<Layout title="도서별이용분석">
	<SubLayout title="도서별이용분석" breadcrumbItems={breadcrumbItems} menuType="도서검색">
		<div class="info-notice program-notice">
			<div class="program-notice__content">
				<ul class="program-notice__list">
					<li>도서별 대출량과 대출 추이를 보실 수 있습니다.</li>
				</ul>
			</div>
		</div>

		<!-- 도서명. 저자명, 키워드, ISBN, 키워드 -->
		<div class="search-form">
			<dl>
				<dt>도서명</dt>
				<dd>
					<UiInput class="w-full" placeholder="도서명을 입력해주세요" />
				</dd>
			</dl>
			<dl>
				<dt>저자명</dt>
				<dd>
					<UiInput class="w-full" placeholder="저자명을 입력해주세요" />
				</dd>
			</dl>
			<dl>
				<dt>발행처</dt>
				<dd>
					<UiInput class="w-full" placeholder="발행처를 입력해주세요" />
				</dd>
			</dl>
			<dl>
				<dt>ISBN</dt>
				<dd>
					<UiInput class="w-full" placeholder="ISBN을 입력해주세요" />
				</dd>
			</dl>
			<dl>
				<dt>키워드</dt>
				<dd>
					<UiInput class="w-full" placeholder="키워드를 입력해주세요" />
				</dd>
			</dl>
		</div>

		<div class="form-actions mb40">
			<UiButton
				size="large"
				class="w-180-mobile-full"
				variant="tertiary"
				text="입력 초기화"
				icon="icon-refresh"
				iconPosition="left"
			/>
			<UiButton size="large" class="w-180-mobile-full" variant="primary" text="검색" />
		</div>

		<div class="date-selectors">
			<div class="bbs-total">
				총 <strong class="text-primary">459</strong>건 ( <strong class="text-primary">1</strong> / 46 )
			</div>
			<!-- 도서별이용분석 테이블 -->
			<div class="popular-books-table-wrapper">
				<table class="popular-books-table">
					<colgroup>
						<col width="10%" />
						<col width="auto" />
						<col width="10%" />
						<col width="15%" />
						<col width="10%" />
					</colgroup>
					<thead>
						<tr>
							<th class="rank-col">번호</th>
							<th class="book-info-col">도서정보</th>
							<th class="count-col">권</th>
							<th class="isbn-col">ISBN</th>
							<th class="loan-count-col">대출건수</th>
						</tr>
					</thead>
					<tbody>
						{
							popularBooks.map(book => (
								<tr class="table-row">
									<td class="rank-col">
										<span class="rank-number">{book.rank}</span>
									</td>

									<td class="book-info-col text-left">
										<a href="./도서별이용분석_상세" class="book-info">
											<div class="book-details">
												<h3 class="book-title">{book.title}</h3>
												<p class="book-author">{book.author}</p>
											</div>
										</a>
									</td>

									<td class="count-col">
										<span class="count-text">{book.availableCount}</span>
									</td>

									<td class="isbn-col">
										<span class="isbn-text">{book.isbn}</span>
									</td>

									<td class="loan-count-col">
										<span class="loan-count-text">{book.loanCount}</span>
									</td>
								</tr>
							))
						}
					</tbody>
				</table>
			</div>

			<!-- 페이징네비게이션 -->
			<div class="pagination-section">
				<UiPagination currentPage={1} totalPages={10} maxVisiblePages={8} />
			</div>
		</div>
	</SubLayout>
</Layout>
