---
import Layout from '@/layouts/Layout.astro';
import SubLayout from '@/components/layout/SubLayout.astro';
import { UiButton, UiTab, UiSelect } from '@components';

const breadcrumbItems = [{ label: '홈', href: '/' }, { label: '문화프로그램', href: '/' }, { label: '공연장' }];

// 기관 탭 데이터
const institutionTabs = [
	{ id: 'cheonghak', label: '청학', active: true },
	{ id: 'yeonsukkumdam', label: '연수꿈담', active: false },
	{ id: 'songdo', label: '송도국제', active: false },
	{ id: 'haedogi', label: '해돋이', active: false },
	{ id: 'sunhak', label: '선학별빛', active: false },
	{ id: 'dongchun', label: '동춘나래', active: false },
	{ id: 'hambakriyu', label: '함박비류', active: false },
	{ id: 'okryeon1', label: '옥련1동', active: false },
	{ id: 'okryeon2', label: '옥련2동', active: false },
	{ id: 'yeonsu1', label: '연수1동', active: false },
	{ id: 'songdo2', label: '송도2동', active: false },
	{ id: 'songdo3', label: '송도3동', active: false },
	{ id: 'songdo5', label: '송도5동', active: false },
	{ id: 'solan', label: '솔안공원', active: false },
	{ id: 'haechansol', label: '해찬솔공원', active: false },
	{ id: 'nuri', label: '누리공원', active: false },
];

// 현재 날짜 정보
const currentDate = new Date();
const currentYear = currentDate.getFullYear();
const currentMonth = currentDate.getMonth();

// 연도 선택 옵션 (현재 연도 ±5년)
const yearOptions = [];
for (let year = currentYear - 5; year <= currentYear + 5; year++) {
	yearOptions.push({ value: year.toString(), label: `${year}년` });
}

// 월 선택 옵션
const monthOptions = [
	{ value: '0', label: '1월' },
	{ value: '1', label: '2월' },
	{ value: '2', label: '3월' },
	{ value: '3', label: '4월' },
	{ value: '4', label: '5월' },
	{ value: '5', label: '6월' },
	{ value: '6', label: '7월' },
	{ value: '7', label: '8월' },
	{ value: '8', label: '9월' },
	{ value: '9', label: '10월' },
	{ value: '10', label: '11월' },
	{ value: '11', label: '12월' },
];
---

<Layout title="공연장">
	<SubLayout title="공연장" breadcrumbItems={breadcrumbItems} menuType="문화마당">
		<!-- 기관 구분 탭 -->
		<UiTab tabs={institutionTabs} variant="default" size="medium" showCount={false} className={`mb-4 search-type-tabs ui-tab--grid-6`} />

		<div id="panel-cheonghak" class="ui-tab-panel ui-tab-panel--active">
			<!-- 달력 섹션 -->
			<div class="hall-calendar" data-hall-calendar>
				<!-- 달력 헤더 -->
				<div class="hall-calendar__header">
					<button class="hall-calendar__nav" data-nav="prev" type="button">
						<img src="/assets/images/icon/arrow-left.svg" alt="이전 달" width="19.2" height="19.2" />
					</button>

					<div class="hall-calendar__date">
						<UiSelect 
							options={yearOptions}
							value={currentYear.toString()}
							name="year"
							size="medium"
							variant="ghost"
							class="hall-calendar__year-select"
							data-year-select
						/>
						<UiSelect 
							options={monthOptions}
							value={currentMonth.toString()}
							name="month"
							size="medium"
							variant="ghost"
							class="hall-calendar__month-select"
							data-month-select
						/>
					</div>

					<button class="hall-calendar__nav" data-nav="next" type="button">
						<img src="/assets/images/icon/arrow-right.svg" alt="다음 달" width="19.2" height="19.2" />
					</button>
				</div>

				<!-- 요일 헤더 -->
				<div class="hall-calendar__weekdays">
					<div class="hall-calendar__weekday hall-calendar__weekday--sunday">일</div>
					<div class="hall-calendar__weekday">월</div>
					<div class="hall-calendar__weekday">화</div>
					<div class="hall-calendar__weekday">수</div>
					<div class="hall-calendar__weekday">목</div>
					<div class="hall-calendar__weekday">금</div>
					<div class="hall-calendar__weekday hall-calendar__weekday--saturday">토</div>
				</div>

				<!-- 달력 그리드 -->
				<div class="hall-calendar__grid" data-calendar-grid>
					<!-- 1주차 -->
					<div class="hall-calendar__cell hall-calendar__cell--sunday">
						<div class="hall-calendar__day">1</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">2</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">3</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">4</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">5</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">6</div>
					</div>
					<div class="hall-calendar__cell hall-calendar__cell--saturday">
						<div class="hall-calendar__day">7</div>
					</div>

					<!-- 2주차 -->
					<div class="hall-calendar__cell hall-calendar__cell--sunday">
						<div class="hall-calendar__day">8</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">9</div>
						<div class="hall-calendar__status hall-calendar__status--closed">휴관일</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">10</div>
						<div class="hall-calendar__buttons">
							<button class="hall-calendar__button hall-calendar__button--morning" data-time="오전">오전</button>
							<button class="hall-calendar__button hall-calendar__button--afternoon" data-time="오후">오후</button>
							<button class="hall-calendar__button hall-calendar__button--evening" data-time="야간">야간</button>
						</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">11</div>
						<div class="hall-calendar__buttons">
							<button class="hall-calendar__button hall-calendar__button--morning" data-time="오전">오전</button>
							<button class="hall-calendar__button hall-calendar__button--afternoon" data-time="오후">오후</button>
							<button class="hall-calendar__button hall-calendar__button--unavailable" data-time="야간" disabled>신청불가</button>
						</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">12</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">13</div>
					</div>
					<div class="hall-calendar__cell hall-calendar__cell--saturday">
						<div class="hall-calendar__day">14</div>
					</div>

					<!-- 3주차 -->
					<div class="hall-calendar__cell hall-calendar__cell--sunday">
						<div class="hall-calendar__day">15</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">16</div>
						<div class="hall-calendar__status hall-calendar__status--closed">휴관일</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">17</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">18</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">19</div>
						<div class="hall-calendar__status hall-calendar__status--period">
							<img src="/assets/images/icon/calendar.svg" alt="접수기간" width="24" height="24" />
							6월 접수기간
						</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">20</div>
					</div>
					<div class="hall-calendar__cell hall-calendar__cell--saturday">
						<div class="hall-calendar__day">21</div>
					</div>

					<!-- 4주차 -->
					<div class="hall-calendar__cell hall-calendar__cell--sunday">
						<div class="hall-calendar__day">22</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">23</div>
						<div class="hall-calendar__status hall-calendar__status--closed">휴관일</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">24</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">25</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">26</div>
					</div>
					<div class="hall-calendar__cell hall-calendar__cell--today">
						<div class="hall-calendar__day">27</div>
					</div>
					<div class="hall-calendar__cell hall-calendar__cell--saturday">
						<div class="hall-calendar__day">28</div>
					</div>

					<!-- 5주차 -->
					<div class="hall-calendar__cell hall-calendar__cell--sunday">
						<div class="hall-calendar__day">29</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">30</div>
						<div class="hall-calendar__status hall-calendar__status--closed">휴관일</div>
					</div>
					<div class="hall-calendar__cell">
						<div class="hall-calendar__day">31</div>
					</div>
					<div class="hall-calendar__cell hall-calendar__cell--empty"></div>
					<div class="hall-calendar__cell hall-calendar__cell--empty"></div>
					<div class="hall-calendar__cell hall-calendar__cell--empty"></div>
					<div class="hall-calendar__cell hall-calendar__cell--empty"></div>
				</div>

				<!-- 하단 버튼 영역 -->
				<div class="hall-calendar__footer">
					<div class="hall-calendar__actions">
						<UiButton text="현재 월로 이동" variant="primary" size="medium" data-current-month />
					</div>
				</div>
			</div>
		</div>
	</SubLayout>
</Layout>
