---
import Layout from '@/layouts/Layout.astro';
import SubLayout from '@/components/layout/SubLayout.astro';
import { UiButton, UiPagination, UiSearchbar, UiTable } from '@components';

const breadcrumbItems = [
	{ label: '홈', href: '/' },
	{ label: '열림참여마당', href: '/support' },
	{ label: '도서관에 바란다' },
];

const columns = [
	{
		key: 'category',
		label: '구분',
		width: '120px',
		headerAlign: 'center',
		align: 'center',
	},
	{
		key: 'institution',
		label: '기관',
		width: '100px',
		headerAlign: 'center',
		align: 'center',
		type: 'badge', // 이 부분 추가!
	},
	{
		key: 'title',
		label: '제목',
		sortable: true,
		headerAlign: 'center',
		align: 'left',
	},
	{
		key: 'author',
		label: '작성자',
		width: '100px',
		headerAlign: 'center',
		align: 'center',
	},
	{
		key: 'count',
		label: '조회수',
		width: '100px',
		headerAlign: 'center',
		align: 'center',
	},
];

const rows = [
	{
		number: 1374,
		category: '도서관',
		institution: '송도국제',
		title: '중고등학생들이 공부하는 장소를 만들어 주세요!',
		author: '황*박',
		count: 11,
		href: './도서관에바란다-상세',
		status: '접수대기',
		hasIcon: true,
		isNew: true,
		href: './도서관에바란다-상세',
	},
	{
		number: 1373,
		category: '모바일도서관',
		institution: '청학',
		title: '열람실 3층 에어건이 오후에 약해집니다',
		author: '변*석',
		count: 12,
		href: './도서관에바란다-상세',
		status: '접수완료',
		hasIcon: true,
		isNew: true,
	},
	{
		number: 1372,
		category: '모바일도서관',
		institution: '청학',
		title: '상호대차 자동차 속도',
		author: '홍*동',
		count: 10,
		href: './도서관에바란다-상세',
		status: '접수대기',
		hasIcon: false,
		isNew: false,
	},
	{
		number: 1371,
		category: '모바일도서관',
		institution: '누리공원',
		title: '홈페이지에서는 가족회원들의 대출현황 확인을 어떻게 하나요',
		author: '박*하',
		count: 8,
		href: './도서관에바란다-상세',
		status: '접수완료',
		hasIcon: false,
		isNew: false,
	},
	{
		number: 1370,
		category: '모바일도서관',
		institution: '해돋이',
		title: '대출한 dvd 오류관련',
		author: '최*연',
		count: 7,
		href: './도서관에바란다-상세',
		status: '답변완료',
		hasIcon: false,
		isNew: false,
	},
	{
		number: 1369,
		category: '모바일도서관',
		institution: '누리공원',
		title: '3층 열람실에서 노트북과 휴대폰을 무음하지않는 사람이 많습니다',
		author: '김*훈',
		count: 11,
		href: './도서관에바란다-상세',
		status: '답변완료',
		hasIcon: false,
		isNew: false,
	},
	{
		number: 1368,
		category: '모바일도서관',
		institution: '누리공원',
		title: '상호대차 반납 미처리(스마트도서관)',
		author: '최*예',
		count: 12,
		href: './도서관에바란다-상세',
		status: '답변완료',
		hasIcon: false,
		isNew: false,
	},
	{
		number: 1367,
		category: '모바일도서관',
		institution: '해찬솔공원',
		title: '3층 열람실 책상 옆에 가방 거는 고리가 있으면 좋겠습니다.',
		author: '조*정',
		count: 10,
		href: './도서관에바란다-상세',
		status: '답변완료',
		hasIcon: false,
		isNew: false,
	},
	{
		number: 1366,
		category: '모바일도서관',
		institution: '선학별빛',
		title: '통합계정 문의드려요',
		author: '문*온',
		count: 12,
		href: './도서관에바란다-상세',
		status: '답변완료',
		hasIcon: false,
		isNew: false,
	},
	{
		number: 1365,
		category: '도서관',
		institution: '선학별빛',
		title: '에어컨 온도 및 바람세기 / 휴게실 환경',
		author: '서*석',
		count: 11,
		href: './도서관에바란다-상세',
		status: '답변완료',
		hasIcon: false,
		isNew: false,
	},
];
---

<Layout title="도서관에 바란다">
	<SubLayout title="도서관에 바란다" breadcrumbItems={breadcrumbItems} menuType="열린참여마당">
		<div class="bbs-list-container">
			<!-- 알려드립니다  -->
			<div class="notice-box">
				<div class="notice-icon">
					<img src="./assets/images/icon/icon-noti.svg" alt="info" class="notice-icon-img" />
				</div>
				<div class="notice-content">
					<h3 class="notice-title">알려드립니다</h3>
					<p class="notice-text">
						본 게시판에 게시글을 등록하실 고객님은 내용, 제목, 고객, 상품명, 업소명, 험담 등을 게시글 내용에 언급할
						경우에만 담당 부서에서 신속한 사항을 검토 해 안내문이나 댓글로 답변을 제공할 예정이니 게시하시길
						부탁드립니다.
					</p>
				</div>
			</div>
		</div>

		<!-- 공통 검색바 -->
		<UiSearchbar
			selectOptions={[
				{ value: '', label: '전체' },
				{ value: 'title', label: '제목' },
				{ value: 'author', label: '저자' },
				{ value: 'publisher', label: '출판사' },
				{ value: 'isbn', label: 'ISBN' },
			]}
			libraryOptions={[
				{ value: '', label: '전체도서관' },
				{ value: 'central', label: '중앙도서관' },
				{ value: 'branch1', label: '분관1' },
				{ value: 'branch2', label: '분관2' },
			]}
			titleOptions={[
				{ value: '', label: '제목' },
				{ value: 'exact', label: '정확한 제목' },
				{ value: 'contains', label: '포함된 제목' },
			]}
			placeholder="검색어를 입력해주세요."
			buttonText="검색"
			fullWidth={true}
			class="smart-library-searchbar mt24"
		/>

		<!-- 게시글 헤더 -->
		<div class="bbs-header">
			<div class="bbs-total">
				총 <strong>459</strong>건 ( <strong>1</strong> / 46 )
			</div>
			<div class="bbs-actions">
				<UiButton variant="tertiary" text="로그인" />
				<UiButton variant="primary" text="글쓰기" />
			</div>
		</div>

		<!-- 게시글 목록 -->
		<UiTable columns={columns} rows={rows} showIndex={true} showStatus={true} caption="도서관 건의사항 목록" />
		<!-- 페이징 네비게이션 -->
		<div class="pagination-section">
			<UiPagination currentPage={1} totalPages={10} maxVisiblePages={8} />
		</div>

		<!-- 로그인 , 글쓰기 버튼 -->
		<div class="bbs-actions flex justify-end items-center gap-8">
			<UiButton variant="tertiary" text="로그인" />
			<UiButton variant="primary" text="글쓰기" />
		</div>
	</SubLayout>
</Layout>
