---
import Layout from '@/layouts/Layout.astro';
import SubLayout from '@/components/layout/SubLayout.astro';
import { UiButton, UiPagination, UiSearchbar, UiTable } from '@components';

const breadcrumbItems = [
  { label: '홈', href: '/' },
  { label: '열림참여마당', href: '/support' },
  { label: '도서관에 바란다' },
];

const columns = [
  {
    key: 'category',
    label: '구분',
    width: '120px',
    headerAlign: 'center',
    align: 'center',
  },
  {
    key: 'institution',
    label: '기관',
    width: '100px',
    headerAlign: 'center',
    align: 'center',
  },
  {
    key: 'title',
    label: '제목',
    sortable: true,
    headerAlign: 'center',
    align: 'left',
  },
  {
    key: 'author',
    label: '작성자',
    width: '100px',
    headerAlign: 'center',
    align: 'center',
  },
  {
    key: 'count',
    label: '조회수',
    width: '100px',
    headerAlign: 'center',
    align: 'center',
  },
];

const rows = [
  {
    number: 439,
    category: '모바일도서관',
    institution: '송도국제',
    title: '열일실 3층 에어컨이 오후에 약해집니다',
    author: '이○연',
    count: 215,
    href: '/board/detail/439', // 제목 클릭 시 이동할 링크
    status: '접수대기', // 상태 표시
    hasIcon: true,
    isNew: true,
  },
];
---

<Layout title="도서관에 바란다">
  <SubLayout title="도서관에 바란다" breadcrumbItems={breadcrumbItems}>
    <div class="bbs-list-container">
      <!-- 알려드립니다  -->
      <div class="notice-box">
        <div class="notice-icon">
          <img
            src="./assets/images/icon/icon-noti.svg"
            alt="info"
            class="notice-icon-img"
          />
        </div>
        <div class="notice-content">
          <h3 class="notice-title">알려드립니다</h3>
          <p class="notice-text">
            본 게시판에 게시글을 등록하실 고객님은 내용, 제목, 고객, 상품명,
            업소명, 험담 등을 게시글 내용에 언급할 경우에만 담당 부서에서 신속한
            사항을 검토 해 안내문이나 댓글로 답변을 제공할 예정이니 게시하시길
            부탁드립니다.
          </p>
        </div>
      </div>
    </div>

    <!-- 공통 검색바 -->
    <UiSearchbar
      selectOptions={[
        { value: '', label: '전체' },
        { value: 'title', label: '제목' },
        { value: 'author', label: '저자' },
        { value: 'publisher', label: '출판사' },
        { value: 'isbn', label: 'ISBN' },
      ]}
      libraryOptions={[
        { value: '', label: '전체도서관' },
        { value: 'central', label: '중앙도서관' },
        { value: 'branch1', label: '분관1' },
        { value: 'branch2', label: '분관2' },
      ]}
      titleOptions={[
        { value: '', label: '제목' },
        { value: 'exact', label: '정확한 제목' },
        { value: 'contains', label: '포함된 제목' },
      ]}
      placeholder="검색어를 입력해주세요."
      buttonText="검색"
      fullWidth={true}
      class="smart-library-searchbar mt24"
    />

    <!-- 게시글 헤더 -->
    <div class="bbs-header">
      <div class="bbs-total">
        총 <strong>459</strong>건 ( <strong>1</strong> / 46 )
      </div>
      <div class="bbs-actions">
        <UiButton variant="primary" text="로그인" />
        <UiButton variant="secondary" text="글쓰기" />
      </div>
    </div>

    <!-- 게시글 목록 -->
    <UiTable
      columns={columns}
      rows={rows}
      showIndex={true}
      showCheckbox={false}
      showStatus={true}
      caption="도서관 건의사항 목록"
    />
    <!-- 페이징 네비게이션 -->
    <div class="pagination-section">
      <UiPagination currentPage={1} totalPages={10} maxVisiblePages={8} />
    </div>

    <!-- 로그인 , 글쓰기 버튼 -->
    <div class="bbs-actions flex justify-end items-center gap-8">
      <UiButton variant="primary" text="로그인" />
      <UiButton variant="secondary" text="글쓰기" />
    </div>
  </SubLayout>
</Layout>
